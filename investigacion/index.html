<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I¬≤+D | zDynamics</title>
    <link rel="icon" href="../images/icon.ico">
    
    <!-- Metadata -->
    <meta name="description" content="Hub de Investigaci√≥n (I¬≤+D). Proyectos sobre control, algoritmos num√©ricos, rob√≥tica y temas afines">
    <meta name="keywords" content="investigaci√≥n rob√≥tica, control, smc, lyapunov, research, ingenier√≠a">
    <meta name="author" content="David Zenteno Lara">
    <meta property="og:title" content="I¬≤+D | zDynamics">
    <meta property="og:description" content="Hub de Investigaci√≥n (I¬≤+D). Proyectos sobre control, algoritmos num√©ricos, rob√≥tica y temas afines">
    <meta property="og:image" content="https://img.freepik.com/premium-photo/neon-science-cyberpunk-scientist-futuristic-lab_735318-8472.jpg">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://zdynamics.org/investigacion/">
    <meta name="language" content="Spanish">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&family=Exo+2:wght@300;400;600&family=JetBrains+Mono:wght@400&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="../styles/main.css">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() { emailjs.init('tc1u_lsh29PmThiJg'); })();
    </script>

    <style>
        /* ESTILOS ESPEC√çFICOS: RESEARCH HUB */

        body {
            background-color: #050505 !important;
        }
        
        .navbar {
            background: rgba(5, 5, 5, 0.9) !important;
            backdrop-filter: blur(5px) !important;
        }
        
        .research-hero {
            padding: 120px 0 60px;
            text-align: center;
            background-color: #050505 !important; 
            overflow-x: hidden; 
        }

        /* --- DASHBOARD GRID --- */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .research-card {
            background: rgba(13, 17, 23, 0.6);
            border: 1px solid #30363d;
            border-top: 3px solid var(--text-gray); /* Default inactivo */
            border-radius: 8px;
            padding: 25px;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        /* Efecto Hover */
        .research-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border-color: var(--neon-cyan); /* Se ilumina al tocarlo */
        }

        /* Encabezado de la tarjeta */
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .card-type {
            font-family: var(--font-code);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-gray);
            border: 1px solid #30363d;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .card-footer {
            margin-top: auto; /* ESTA ES LA CLAVE: Empuja el footer al final de la tarjeta */
            padding-top: 30px; /* Espacio visual para respirar */
        }

        .status-icon {
            font-size: 1.2rem;
        }

        .research-card h3 {
            font-family: var(--font-heading);
            color: var(--text-white);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .research-card p {
            color: #8b949e;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        /* BARRA DE PROGRESO (Estilo Cyberpunk) */
        .progress-container {
            width: 100%;
            height: 6px;
            background: #21262d;
            border-radius: 3px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--text-gray);
            width: 0%; /* Se define por JS */
            border-radius: 3px;
            transition: width 1s ease-in-out;
            position: relative;
        }
        
        /* Efecto de brillo en la barra */
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transform: translateX(-100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer { 100% { transform: translateX(100%); } }

        /* Colores de Estado */
        .status-writing .progress-bar { background: #d29922; box-shadow: 0 0 10px rgba(210, 153, 34, 0.4); } /* Amarillo */
        .status-review .progress-bar { background: var(--neon-cyan); box-shadow: 0 0 10px rgba(0, 212, 255, 0.4); } /* Azul */
        .status-published .progress-bar { background: #00FF88; box-shadow: 0 0 10px rgba(0, 255, 136, 0.4); } /* Verde */

        .status-text {
            font-family: var(--font-code);
            font-size: 0.8rem;
            float: right;
            margin-top: -15px; /* Pegadito a la barra */
        }

        /* Bot√≥n de Acci√≥n */
        .action-btn {
            display: block;
            width: 100%;
            padding: 10px;
            text-align: center;
            border: 1px dashed #30363d;
            color: var(--text-gray);
            font-family: var(--font-code);
            font-size: 0.9rem;
            text-decoration: none;
            border-radius: 6px;
            transition: 0.3s;
            cursor: not-allowed; /* Default: Bloqueado */
        }

        /* Bot√≥n Activo (Publicado) */
        .btn-active {
            border-style: solid;
            border-color: #00FF88;
            color: #00FF88; /* Texto Verde para destacar lectura */
            cursor: pointer;
            background: rgba(0, 255, 136, 0.05);
        }
        
        .btn-active:hover {
            background: #00FF88;
            color: var(--bg-dark);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
        }

        /* --- SECCI√ìN NEWSLETTER (CTA) --- */
        .newsletter-section {
            background: rgba(13, 17, 23, 0.8);
            border-top: 1px solid var(--neon-cyan);
            padding: 60px 0;
            margin-top: 80px;
            text-align: center;
        }

        .newsletter-form {
            max-width: 500px;
            margin: 30px auto 0;
            display: flex;
            gap: 10px;
            flex-direction: column;
        }
        
        /* Reutilizamos estilos de input del footer pero ajustados */
        .newsletter-input {
            background: rgba(0,0,0,0.3);
            border: 1px solid #30363d;
            padding: 15px;
            color: white;
            font-family: var(--font-body);
            border-radius: 4px;
        }
        .newsletter-input:focus { border-color: var(--neon-cyan); outline: none; }

    </style>
</head>
<body data-env="void">

    <div id="tsparticles"></div>

    <nav id="main-nav" class="navbar">
        <div class="container nav-container">
            <a href="../" class="nav-logo">
                <span style="color: var(--neon-orange); margin-right: 2px; font-weight: bold;">./</span>zDynamics
            </a>
            <ul class="nav-links">
                <li><a href="../#talleres">Talleres</a></li>
                <li><a href="../diplomas/">Diplomas</a></li>
                <li><a href="https://shop.zdynamics.org/" target="_blank">Tienda</a></li>
                <li><a href="../nosotros">Nosotros</a></li>
                <li><a href="../eventos/">Eventos</a></li>
                <li><a href="../importaciones/">Importaciones</a></li>
                <li>
                    <a class = "active" title="I¬≤+D">
                        <i class="fa-solid fa-flask" style="font-size: 1.1rem;"></i>
                    </a>
                </li>
                <li><a href="#contacto" class="btn-nav">Contacto</a></li>
            </ul>
            <div class="menu-toggle" id="mobile-menu"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div>
        </div>
    </nav>

    <section class="research-hero">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">HUB DE <span class="highlight">INVESTIGACI√ìN</span></h2>
                <p class="section-subtitle">Estado actual de nuestros proyectos I¬≤+D.</p>
            </div>

            <div class="dashboard-grid" id="research-container"></div>
        </div>
    </section>

    <footer id="contacto">
        <div class="container footer-content">
            <div class="footer-col contact-form-wrapper">
                <div class="container">
                    <h3><i class="fa-regular fa-bell" style="color: var(--neon-cyan);"></i> Mantente Informado</h3>
                    <p style="color: var(--text-gray); margin-top: 10px;">
                        Te avisaremos cuando se publique un nuevo art√≠culo. Sin spam.
                    </p>

                    <form id="newsletter-form" class="newsletter-form">
                        <input type="text" name="sub_name" class="newsletter-input" placeholder="Nombre" required>
                        <input type="email" name="sub_email" class="newsletter-input" placeholder="Correo Electr√≥nico" required>
                        <button type="submit" class="btn btn-neon" id="sub-btn">
                            SUSCRIBIRSE <i class="fa-solid fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>

            <div class="footer-col footer-info">
                <img src="../images/logo.png" alt="zDynamics" class="footer-logo">
                <p class="tagline">The Future is <span class="highlight">ROBOTICS</span></p>
                
                <div class="social-links">
                    <a href="https://youtube.com/@zdynamics" target="_blank"><i class="fa-brands fa-youtube"></i></a>
                    <a href="https://github.com/AssemblingTheFuture" target="_blank"><i class="fa-brands fa-github"></i></a>
                    <a href="https://linkedin.com/in/dzentenol" target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
                    <a href="https://wa.me/5215542949603" target="_blank" title="Cont√°ctanos en WhatsApp">
                        <i class="fa-brands fa-whatsapp"></i> </a>
                    <a href="mailto:contact@zdynamics.org"><i class="fa-solid fa-envelope"></i></a>
                    <div class="legacy-wrapper">
                        <img src="../images/bny.png" title="Assembling the Future... TOGETHER!">
                    </div>
                </div>

                <ul class="legal-links">
                    <li><a href="../aviso-de-privacidad">Aviso de Privacidad</a></li>
                    <li><a href="../terminos-y-condiciones">T√©rminos y Condiciones</a></li>
                </ul>
                <p class="copyright">
                    ¬© <script>document.write(new Date().getFullYear())</script> David Zenteno Lara. Todos los derechos reservados.<br>
                    Hecho con <i class="fa-regular fa-heart heart-beat"></i> en M√©xico <span class="mexico-flag">üá≤üáΩ</span>
                </p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/tsparticles-slim@2.0.6/tsparticles.slim.bundle.min.js"></script>
    <script src="../scripts/main.js"></script>

    <script>
        // 1. BASE DE DATOS DE ART√çCULOS (JSON)
        // Aqu√≠ es donde agregas nuevos papers f√°cilmente.
        // Status: 'writing' (30%), 'review' (80%), 'published' (100%)
        const articles = [
            {
                title: "Sliding-Mode Control: Aplicaci√≥n Num√©rica",
                category: "Control Robusto",
                desc: "¬øC√≥mo simular control discontinuo?",
                status: "writing", 
                link: "#" // No usado si no est√° published
            },
            {
                title: "Cuaterniones Duales",
                category: "Matem√°ticas",
                desc: "¬øPor qu√© 8 n√∫meros son mejores que una Matriz 4x4?",
                status: "writing",
                link: "#"
            },
            {
                title: "Cinem√°tica Inversa Num√©rica",
                category: "Algoritmos",
                desc: "¬øC√≥mo calcular la posici√≥n de las articulaciones cuando no hay soluci√≥n anal√≠tica?",
                status: "review", // Un poco m√°s avanzado
                link: "#"
            },
            {
                title: "Estabilidad de Lyapunov",
                category: "Teor√≠a de Control",
                desc: "¬øC√≥mo estudiar la convergencia a trav√©s de la disipaci√≥n de energ√≠a?",
                status: "review",
                link: "#"
            },
            {
                title: "Robots Redundantes",
                category: "Cinem√°tica",
                desc: "¬øC√≥mo se utiliza el Espacio Nulo en la Rob√≥tica?",
                status: "writing",
                link: "#"
            },
            {
                title: "Matriz Jacobiana: Significado F√≠sico",
                category: "F√≠sica",
                desc: "¬øC√≥mo influyen los movimientos articulares en el efector final?",
                status: "review",
                link: "#"
            }
        ];

        // 1.5 MEZCLA ALEATORIA (Fisher-Yates Shuffle)
        for (let i = articles.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [articles[i], articles[j]] = [articles[j], articles[i]];
        }

        // 2. GENERADOR DE TARJETAS
        const container = document.getElementById('research-container');

        articles.forEach(art => {
            // Configuraci√≥n seg√∫n estado
            let progress = '30%';
            let statusClass = 'status-writing';
            let statusLabel = 'En desarrollo';
            let btnClass = '';
            let btnText = '<i class="fa-solid fa-lock"></i> No Disponible';
            let btnHref = 'javascript:void(0)'; // Enlace muerto

            if (art.status === 'review') {
                progress = '80%';
                statusClass = 'status-review';
                statusLabel = 'En revisi√≥n';
                btnText = '<i class="fa-solid fa-flask"></i> Pr√≥ximamente';
            } else if (art.status === 'published') {
                progress = '100%';
                statusClass = 'status-published';
                statusLabel = 'Publicado';
                btnClass = 'btn-active';
                btnText = 'LEER ART√çCULO <i class="fa-solid fa-arrow-right"></i>';
                btnHref = art.link;
            }

            // HTML Template
            const card = document.createElement('div');
            card.className = `research-card ${statusClass}`;
            card.innerHTML = `
                <div class="card-header">
                    <span class="card-type">${art.category}</span>
                    <div class="status-icon"></div>
                </div>
                <h3>${art.title}</h3>
                <p>${art.desc}</p>
                
                <div class="progress-container">
                    <div class="progress-bar" style="width: ${progress}"></div>
                </div>
                <div class="status-text" style="color: ${statusClass === 'status-published' ? '#00FF88' : '#8b949e'}">
                    ${statusLabel}
                </div>

                <div class="card-footer">
                    <a href="${btnHref}" class="action-btn ${btnClass}">${btnText}</a>
                </div>
            `;
            container.appendChild(card);
        });

        // 3. L√ìGICA DEL NEWSLETTER (Formulario Simplificado)
        const newsForm = document.getElementById('newsletter-form');
        const newsBtn = document.getElementById('sub-btn');

        if (newsForm) {
            newsForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = this.sub_name.value;
                const email = this.sub_email.value;
                
                // Mensaje Autom√°tico Oculto
                const templateParams = {
                    name: name,
                    email: email,
                    subject: "Nueva Suscripci√≥n al Hub I¬≤+D", // Asunto interno para ti
                    message: "Deseo recibir notificaciones sobre nuevos art√≠culos de investigaci√≥n."
                };

                // Feedback UI
                const originalText = newsBtn.innerHTML;
                newsBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';

                emailjs.send('service_66tnv1p', 'template_dy4961m', templateParams)
                    .then(() => {
                        newsBtn.innerHTML = '¬°SUSCRITO! <i class="fa-solid fa-check"></i>';
                        newsBtn.style.background = '#00FF88';
                        newsBtn.style.color = '#0b1120';
                        newsBtn.style.borderColor = '#00FF88';
                        newsForm.reset();
                        
                        setTimeout(() => {
                            newsBtn.innerHTML = originalText;
                            newsBtn.style = ''; // Reset estilos
                        }, 3000);
                    }, (err) => {
                        console.error(err);
                        newsBtn.innerHTML = 'ERROR';
                        newsBtn.style.borderColor = 'red';
                    });
            });
        }
    </script>

</body>
</html>